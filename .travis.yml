sudo: required
language: python
python:
- '2.7'
services:
- docker
before_install:
- docker pull golang:1.6
- docker login -e="$DOCKER_EMAIL" -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
install:
- pip install docker-cloud
script:
- make test
- make release
after_success:
- make docker
- docker-cloud service ps
env:
  global:
  - secure: W4rvsx2qJ0MSWOVC+Wa6oIIniFXRMhKojOJ2Oot31JR3ktcdoINu+QarWpB4Q9BoldCIF86VFl5/YQfT/Nq6cfDS3eDhMLeCMHFprt1asqfsGE+tQEwfekcw1EHWMRDIZlQMb6ZFUjv0ugXXBMoNQfeq3LdxS7NCurkhbNSZpwdnVwdj+GEEVzr1KHROo/4M+jeWjPl0SI+QclInH/PkJbpNKMHM2rfmJZdE4iblYyUcMUXnmxitU2cmvVLWT/kE9mNVNcyvS46rTWz8fZIjMlG68wDhcqYZtsn+xlcMjAoWDEIA6Hse2g8CXeEro4nSACijzZBbcPfrueeA799ziLYlDeQA20nBmAhqcUJy2K1yHU8mPjyj067v0zB4M7ZX9V9Mgp6B2bGHrhNxD57n2st/6/VqJU1nCJmwKAxLOfyGRywNjlcdtThXfmLu3CPmTlKM7OSWoQLE6pbciGZKdvc6sdeGb2S0DuiHt68H5VS6VGcx9QlNQR2Sb+b1qYBdrXPRDsjNfEBpDaLUoF+Gl7pgVv9EoKYq6WoXJt322op0FLJTV6kbneoesjMknlM019rU6sRlFX6PUnMhF8K6hjcSKJzBqqRUoP0MRiL9i8qwUrtSWr6qkHFBMVZ7ckBy0yRnMm7k/OJSI5hYEKlxvldTOwLB/swx1iuLjcYM6b4=
  - secure: G8XQVfKr++NpBsdFvM4WK+fmtxGXacbJISx6Ot+Luc7EQ0TS8NBVMg8v0pWNbSv7R7goRxPpHWG/M5C1RjfWVtcSHLwKb4V4FJrsj+CKJo9kGYOB/aA8NLU7R3D7R3nBaJS95qcOnJaRhhLS1MS4BAGXxL3PynvQeIJQHrgzC6JPkoznRLh88SZ9tZTHWvZNeBa7hJWzZZ9M9Bx/STejDlFnuYdC/VWjczyfdRhje4jC1vGHc3Cc02LpklLaU6UDvxCIDZJG2KOeD9dZusLroI4Rh6grUXx9AAllrZykoJUuST3BPVtxlSnVzDpgpbl/tz4lIJr9XjAlKaWGB6zu1By5y85a6xRnjTe6H/iToYTuaG3SX3F0Fq9gCDhMYZiP//FMpe9nYafGYyBXvXhXabE74cyOwbBKJNAnXNNgYBBwfKrYmw/HMGlv9oyTweCb9hscmzWMT1eGFTQA1h+0Nh1Bm/1FqhNIxajBvfwvFH+FDzKifcVsQzsSUMwxi1yuzSQDfuknw82vnXC0E3LDSSZq6RYMaEF1UvekZm7QZYe1GH+mbXUt+VHzjfokqtn6/l2od2JqBDqDNh1zq/vgCKpw7P4oYDwEN2tCp9WMxFjFIuhBxhiE925oDWVaTTc7pukXWwfRVzp3vrszcl2LiEYs7Vq/9WICCWGcbJe2JKI=
  - secure: EESr6JPnnbvw1O37zqsUQt8c7n39Ho174eRDLaEI5GIQOY4ALSZgMTIeTMnV5TQNvjMVPg4mRlbghF9PbaX6PRo5TLY/yCE5gaSLtun9k0royjY5pbdp77/fB9tzsBlD5e8Px4qgWxliq5MT3HM+2Xwr9sHEq+Tj8HA87okIP9XkxCcvb5h5hPckBcCRBWWDRPwAQ+8zoWv47ymUBfl2I74Hbi8cysiJPKxT4jSqXVGKQyxDuI/5hDoru4tgtOOOF8G6qK+YIyQRUmaSwXVZ3XxpKIPQJWK3VTnWADgN3B3t/4NjaTyta9PUBJE36IX6IKi5gGo/ZwzcyNXqxV93fbD2/lbSy8ZJiqL2+XIdHZfMukSZyErwhppJNryPHfkCC3iMylfNR3Q1Y5G9ngCMVnKH+YXKJOiOz4p0IwTp3alYtKrG+XCNJboMaoxtXaT+1t4yRKeITb1uMffex8cI43Y9OvMouGmGzZnETShuUznqOJeRAF37i2feEXUOIU2EtED3RZ1HvQyb5+jxzILTLIAYCFGyMjng4WBa57Gmf+FjvR3itWDFuItI8Sm0t5Dho6/L56li+WPB0W4ashz99OVEXHcw2w/cQ2E4DKeI+tI6RPXqKL0ctRc5/TyYWw2Oz8ZqSBcwvH2GnZYnTflgUPXJCBChaKfVvowvHVK/tRc=
